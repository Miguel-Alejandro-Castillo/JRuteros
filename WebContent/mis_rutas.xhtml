<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/WEB-INF/templates/template.xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:define name="titulo">
    Mis rutas
</ui:define>

	<ui:define name="navegador">
		<ol class="breadcrumb">
			<li>
				<h:form>
					<h:commandLink value="Home" action="#{OutcomeBean.home}" />
				</h:form>
			</li>
			<li class="active">Mis rutas</li>
		</ol>
	</ui:define>

	<ui:define name="contenido">

		<h:form>
		<h:dataTable id="misRutas" value="#{ListadosBean.getMisRutas()}" var="ruta"
			border="2">
			<h:column>
				<f:facet name="header">
					<h:outputText value="nombre"></h:outputText>
				</f:facet>
				<h:outputText value="#{ruta.nombre}"></h:outputText>
			</h:column>

			<h:column>
				<f:facet name="header">
					<h:outputText value="privacidad"></h:outputText>
				</f:facet>
				<h:outputText value="#{ruta.privacidad.nombre}"></h:outputText>
			</h:column>

			<h:column>
				<f:facet name="header">
					<h:outputText value="formato"></h:outputText>
				</f:facet>
				<h:outputText value="#{ruta.formato.nombre}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="dificultad"></h:outputText>
				</f:facet>
				<h:outputText value="#{ruta.dificultad.nombre}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="actividad"></h:outputText>
				</f:facet>
				<h:outputText value="#{ruta.actividad.nombre}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="distancia"></h:outputText>
				</f:facet>
				<h:outputText value="#{ruta.distancia}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="fecha de realización"></h:outputText>
				</f:facet>
				<h:outputText value="#{ruta.fechaRealizacion}"></h:outputText>
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value=""></h:outputText>
				</f:facet>

				<h:outputText value="">
					<!--  <h:form id="ruta_#{ruta.id}"> -->
					
						<h:commandLink value="" action="#{RutaBean.detalleRuta(ruta.id)}">	
							<img src="resources/img/vermas.png" alt="detalle ruta" />
						</h:commandLink>
						<!--
						<h:link value="" outcome="#{OutcomeBean.detalleRuta()}">
							<f:param name="id" value="#{ruta.id}" />	
							<img src="resources/img/vermas.png" alt="detalle ruta" />
						</h:link>
						-->
						<h:commandLink value="" action="#{RutaBean.editarRuta(ruta.id)}">
							<img src="resources/img/editar.png" alt="editar ruta" />
						</h:commandLink>
						<h:commandLink value="" action="#{RutaBean.borrarRuta(ruta.id)}" onclick="return confirmarBorrado()">
							<!-- 
							<f:setPropertyActionListener target="#{RutaBean.id}"
								value="#{ruta.id}" />
							-->	
							<f:ajax render="misRutas" event="action"
									onevent="net.javabeat.monitor" onerror="net.javabeat.handle" />
							<img src="resources/img/borrar.png" alt="eliminar ruta" />
						</h:commandLink>
					<!-- </h:form> -->

				</h:outputText>
			</h:column>

		</h:dataTable>
		</h:form>
		<script type="text/javascript">
			function confirmarBorrado() {
				return confirm("¿Desea eliminar la ruta?");
			}

			var hasError = false;
			if (!net)
				var net = {}
			if (!net.javabeat) {
				net.javabeat = {
					monitor : function(event) {
						if (event.status === "success"){
							if (hasError)
								alert("no se pudo eliminar la ruta");
							else
								alert("La ruta se elimino correctamente");
							hasError = false;
						}
					},
					handle : function(error) {
						if (error.type === "error")
							hasError = true;
					}

				}

			}
		</script>
		<h:outputScript library="javax.faces" name="jsf.js"/>


	</ui:define>
</ui:composition>

<!-- 
<!DOCTYPE html>
<html>
<head>
     <meta charset="UTF-8"> 
	<meta name="viewport" content="width=divise-width, initial-scale=1, maximum-scale=1">
     <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css"> 
	  <link rel="stylesheet" type="text/css" href="hojasDeEstilos/estilo.css">  
      <script  type="text/javascript" src="bootstrap/js/jquery.min.js"></script>
<title>listado de rutas</title>
</head>
<body>
    <div id="" class=""  >
     <main>

   
              <ol class="breadcrumb">
                <li><a href="">Home</a></li>
                <li class="active">Mis rutas</li>
              </ol>
          <h2>Listado de Mis Rutas</h2>
          
                <table class="table table-striped table-bordered table-hover  tabla_mis_rutas" summary="Tabla listado de rutas" >
                <thead>
                  <tr>
                    <th>Nombre</th>
                    <th>Descripcion</th>
                    <th>privacidad</th> 
                    <th>Formato</th>                   
                    <th>Distancia</th>
                    <th>Dificultad</th>
                    <th>Actividad</th>
                    <th>tiempo</th>
                    <th>Fecha de realizacion</th>
                    <th>opciones</th>
                   
                   </tr>

                </thead>
                <tbody>
              
                  <tr>

                        <td class="td td-usuarios ">Ruta del diablo</td>
                        <td class=" td td-usuarios">te podes caer</td>
                        <td class="td td-usuarios ">publica</td>
                        
                         <td class="td td-usuarios ">ida</td>
                        <td class="td td-usuarios ">5 km</td>
                        <td class="td td-usuarios ">Solo expertos</td>
                        <td class="td td-usuarios ">Alpinismo</td>
                        <td class="td td-usuarios ">2 dias</td>
                        <td class="td td-usuarios ">2/3/1012</td>
                        <td class="td td-usuarios opciones ">
                            <a href="" ><img src="imagenes/borrar.png" alt="borrar ruta"> </a>
                            <a href="" ><img src="imagenes/editar.png" alt="editar ruta"> </a>
                            <a href="" ><img src=imagenes/vermas.png alt="ver detalle de ruta"> </a><br><br>
                            <a href="" ><img src=imagenes/multimedia.png alt="ver detalle de ruta"> </a>
                            <a href="" ><img src=imagenes/mapa-de-rutas.png alt="ver mapa del recorrido"> </a>         
                        </td>

                 </tr>
                   <tr>

                        <td class="td td-usuarios ">Ruta del caballo</td>
                        <td class=" td td-usuarios">tambien te podes caer</td>
                        <td class="td td-usuarios ">privada</td>
                        
                         <td class="td td-usuarios ">circular</td>
                        <td class="td td-usuarios ">5 km</td>
                        <td class="td td-usuarios ">Moderado</td>
                        <td class="td td-usuarios ">A caballo</td>
                        <td class="td td-usuarios ">2 horas</td>
                        <td class="td td-usuarios ">2/3/1014</td>
                        <td class="td td-usuarios opciones ">
                            <a href="" ><img src="imagenes/borrar.png" alt="borrar ruta"> </a>
                            <a href="" ><img src="imagenes/editar.png" alt="editar ruta"> </a>
                            <a href="" ><img src=imagenes/vermas.png alt="ver detalle de ruta"> </a><br><br>
                            <a href="" ><img src=imagenes/multimedia.png alt="ver "> </a>
                                <a href="" ><img src=imagenes/mapa-de-rutas.png alt="ver mapa del recorrido"> </a>
                             
                        </td>

                 </tr>   
                
           
                

                </tbody>
                                       
              </table>
          
       </main>
   
       <aside>  

          <span class="subTitMen">SESI&Oacute;N</span>
          <ul>
              <li><a href="LogoutUser">pepe (Salir)</a> </li> 
          </ul>
       </aside>

  </div>
-->
<!--  <footer>
   		<div id="contenedor_footer" >
   		
   			<strong>Correo Electr&oacute;nico: </strong> <br> 
        

   		</div>   		
   </footer>
   -->
<!--               

</body>
</html>
-->